<div class="row gy-4">
    <div class="col-xl-6">
        <div class="card">
            <div class="card-body">
                <h2 class="h4 mb-3">
                    List years with multiple winners
                </h2>
                <table ng-if="years.length" class="table table-bordered table-striped mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th class="w-50">Year</th>
                            <th>Win Count</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="year in years | orderBy:'-count'">
                            <td>{{year.year}}</td>
                            <td>{{year.count}}</td>
                        </tr>
                    </tbody>
                </table>
                <div ng-if="!years.length" class="text-center p-3">
                    Loading...
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-6">
        <div class="card">
            <div class="card-body">
                <h2 class="h4 mb-3">
                    Top 3 studios with winners
                </h2>
                <table ng-if="studios.length" class="table table-bordered table-striped mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th class="w-50">Name</th>
                            <th>Win Count</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="studio in studios | orderBy:'-count'">
                            <td>{{studio.name}}</td>
                            <td>{{studio.count}}</td>
                        </tr>
                    </tbody>
                </table>
                <div ng-if="!studios.length" class="text-center p-3">
                    Loading...
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-6">
        <div class="card">
            <div class="card-body">
                <h2 class="h4 mb-3">
                    Producers with longest and shortest interval between wins
                </h2>

                <div ng-if="producersLongest" class="mb-3">
                    <h3 class="h5">
                        Maximum
                    </h3>
                    <div class="table-responsive">
                        <table class="table table-bordered mb-0">
                            <thead class="table-dark">
                                <tr>
                                    <th class="w-25">Producer</th>
                                    <th class="w-25">Interval</th>
                                    <th class="w-25 d-none d-lg-table-cell">Previous Year</th>
                                    <th class="d-none d-lg-table-cell">Following Year</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>{{producersLongest.name}}</td>
                                    <td>
                                        {{producersLongest.interval}}
                                        <ul class="list-unstyled mt-2 d-lg-none">
                                            <li><b>Previous Year:</b> {{producersLongest.yearFirst}}</li>
                                            <li><b>Following Year:</b> {{producersLongest.yearLast}}</li>
                                        </ul>
                                    </td>
                                    <td class="d-none d-lg-table-cell">{{producersLongest.yearFirst}}</td>
                                    <td class="d-none d-lg-table-cell">{{producersLongest.yearLast}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div ng-if="producersShortest">
                    <h3 class="h5">
                        Minimum
                    </h3>
                    <div class="table-responsive">
                        <table class="table table-bordered mb-0">
                            <thead class="table-dark">
                                <tr>
                                    <th class="w-25">Producer</th>
                                    <th class="w-25">Interval</th>
                                    <th class="w-25 d-none d-lg-table-cell">Previous Year</th>
                                    <th class="d-none d-lg-table-cell">Following Year</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>{{producersShortest.name}}</td>
                                    <td>
                                        {{producersShortest.interval}}
                                        <ul class="list-unstyled mt-2 d-lg-none">
                                            <li><b>Previous Year:</b> {{producersShortest.yearFirst}}</li>
                                            <li><b>Following Year:</b> {{producersShortest.yearLast}}</li>
                                        </ul>
                                    </td>
                                    <td class="d-none d-lg-table-cell">{{producersShortest.yearFirst}}</td>
                                    <td class="d-none d-lg-table-cell">{{producersShortest.yearLast}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div ng-if="!producersLongest && !producersShortest">
                    Loading...
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-6">
        <div class="card">
            <div class="card-body">
                <h2 class="h3 mb-3">
                    List movie winners by year
                </h2>
                <form ng-submit="searchByYear($event)" class="mb-3" method="get" action="">
                    <div class="row g-3">
                        <div class="col">
                            <input ng-model="search.year" type="number" class="form-control"
                                placeholder="Search by year" list="years-datalist">
                            <datalist id="years-datalist">
                                <option ng-repeat="year in years" value="{{year.year}}">
                                    {{year.count}} movie winners
                                </option>
                            </datalist>
                        </div>
                        <div class="col-auto">
                            <button class="btn btn-primary" type="submit">Buscar</button>
                        </div>
                    </div>
                </form>
                <div class="table-responsive">
                    <table class="table table-bordered table-striped mb-0">
                        <thead class="table-dark">
                            <tr>
                                <th class="w-25">Year</th>
                                <th>Title</th>
                            </tr>
                        </thead>
                        <tbody ng-if="search.result.length">
                            <tr ng-repeat="item in search.result">
                                <td>{{item.year}}</td>
                                <td>{{item.title}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>